Asiakkaat ja käyttäjät
======================

Käyttäjät
~~~~~~~~~

Käyttäjän luominen
^^^^^^^^^^^^^^^^^^

1. Siirry Käyttäjät-ylläpitosivulle valitsemalla `Käyttäjät`
   `Kontaktit`-kategoriasta Shuup hallintapaneelin valikossa.

   .. image:: customers-and-users/users-menu.png

2. Valitse `Uusi käyttäjä` Käyttäjät-ylläpitosivun työkalupalkista.

   .. image:: customers-and-users/new-user-button.png

3. Syötä kelvollinen käyttäjänimi ja salasana sekä muut
   käyttäjätiedot. Valitse lopuksi `Tallenna` luodaksesi
   käyttäjätilin.

   .. image:: customers-and-users/new-user.png

.. note::
   Uusi käyttäjä ei automaattisesti saa ilmoitusta hänelle luodusta
   käyttäjätilistä.
   
   Mikäli haluat lähettää uudelle käyttäjälle ilmoituksen, voit
   lähettää hänelle salasanan palautussähköpostin.
   

   Katso `Salasanan palautussähköpostin lähettäminen`_.

Käyttäjän luominen tallennetusta kontaktista
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

1. Siirry Kontaktit-ylläpitosivulle valitsemalla `Kontaktit`
   `Kontaktit`-kategoriasta Shuup hallintapaneelin valikossa.

   .. image:: customers-and-users/contacts-menu.png

2. Valitse kontakti, jolle haluat luoda käyttäjätilin.

   .. image:: customers-and-users/select-contact.png

3. Valitse `Uusi käyttäjä` Kontaktit-ylläpitosivun työkalupalkista.

   .. image:: customers-and-users/new-user-from-contact.png

4. Syötä uuden käyttäjän käyttäjänimi ja salasana ja valitse
   `Tallenna` luodaksesi käyttäjätilin, joka yhdistetään valitun
   kontaktin tietoihin.

   .. image:: customers-and-users/new-user.png


   Katso lisätiedot kohdasta `Käyttäjän luominen`.

Käyttäjien salasanojen hallinnointi
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

Käyttäjien salasanojen vaihtaminen
**********************************

1. Siirry Käyttäjät-ylläpitosivulle valitsemalla `Käyttäjät`
   `Kontaktit`-kategoriasta Shuup hallintapaneelin valikosta.

   .. image:: customers-and-users/users-menu.png

2. Valitse käyttäjä, jonka salasanan haluat vaihtaa.

   .. image:: customers-and-users/select-user.png

3. Valitse Käyttäjät-ylläpitosivun työkalupalkin `Toiminnot`
   -pudotusvalikosta `Vaihda salasana`.

   .. image:: customers-and-users/change-password.png

4. Syötä uusi salasana `Vaihda käyttäjän salasana` –lomakkeelle ja
   valitse `Tallenna` tallentaaksesi uuden salasanan.

   .. image:: customers-and-users/change-password-form.png

Salasanan palautussähköpostin lähettäminen
******************************************

1. Siirry Käyttäjät-ylläpitosivulle valitsemalla `Käyttäjät`
   `Kontaktit`-kategoriasta Shuup hallintapaneelin valikosta.

   .. image:: customers-and-users/users-menu.png

2. Valitse käyttäjä, jolle haluat lähettää salasanan
   palautussähköpostin.

   .. image:: customers-and-users/select-user.png

3. Valitse Käyttäjät-ylläpitosivun työkalupalkin `Toiminnot`
   -pudotusvalikosta `Lähetä salasanan palautussähköposti`.

   .. image:: customers-and-users/send-password-reset-email.png

4. Seuraavalla ruudulla, valitse `Lähetä palautussähköposti`
   lähettääksesi käyttäjälle palautussähköpostin.

   .. image:: customers-and-users/send-reset-email.png

Käyttäjäoikeuksien muokkaaminen
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

.. warning::

   Anna hallinnoivia käyttäjäoikeuksia käyttäjille harkiten.

1. Siirry Käyttäjät-ylläpitosivulle valitsemalla `Käyttäjät`
   `Kontaktit`-kategoriasta Shuup hallintapaneelin valikosta.

   .. image:: customers-and-users/users-menu.png

2. Valitse käyttäjä, jonka käyttäjäoikeuksia haluat muokata.

   .. image:: customers-and-users/select-user.png

3. Valitse Käyttäjät-ylläpitosivun työkalupalkin `Toiminnot`
   -pudotusvalikosta `Muokkaa oikeuksia`.

   .. image:: customers-and-users/edit-permissions.png

4. Rastita ruudut niiden käyttäjäoikeustasojen kohdalta, jotka
   haluat käyttäjälle antaa ja lopuksi valitse `Tallenna` tallentaaksesi valinnat.

   .. image:: customers-and-users/change-permissions.png

Käyttäjän deaktivointi
^^^^^^^^^^^^^^^^^^^^^^^^

Kun käyttäjä deaktivoidaan, käyttäjä jää järjestelmääsi, mutta hän
ei enää pysty kirjautumaan käyttäjätiliinsä, eikä käyttäjää näytetä
oletuksena avatessasi Käyttäjät-ylläpitosivun.

.. note::
   Jos käyttäjällä on liitetty kontakti, käyttäjän käyttäjätilin
   deaktivointi ei deaktivoi liitettyä kontaktia, mutta estää
   sisäänkirjautumisen, joka käytännössä tarkoittaa samaa asiaa..

   Lisätietoja aiheesta kohdassa `Kontaktin deaktivointi`_.

Deaktivoidaksesi käyttäjän:

1. Siirry Käyttäjät-ylläpitosivulle valitsemalla `Käyttäjät`
   `Kontaktit`-kategoriasta Shuup hallintapaneelin valikosta.

   .. image:: customers-and-users/users-menu.png

2. Valitse käyttäjä, jonka käyttäjätilin haluat deaktivoida.

   .. image:: customers-and-users/select-user.png

3. Valitse `Deaktivoi käyttäjä` Käyttäjät-ylläpitosivun työkalupalkista.

   .. image:: customers-and-users/deactivate-user-button.png

4. Käyttäjä on nyt deaktivoitu ja `Deaktivoi käyttäjä` –painike
   korvataan `Aktivoi käyttäjä` –painikkeella.

.. note:: Seuraa samoja ohjeita aktivoidaksesi deaktivoidun käyttäjän.

Logging in as a User
^^^^^^^^^^^^^^^^^^^^

When troubleshooting a problem for a customer, it may be useful to log
in under the user's account.

To log in as a user:

1. When logged in as a superuser, navigate to the Users admin page by
   clicking `Users` under the `Settings` category from the Shuup Admin
   menu.

   .. image:: customers-and-users/users-menu.png

2. Select the user you want to log in as.

   .. image:: customers-and-users/select-user.png

3. Click the `Login as User` button on the user admin toolbar.

   .. image:: customers-and-users/login-as-user-button.png

4. You will now be logged in as the user.

.. note::

   If a superuser places an order as another user, the superuser will be
   listed as the creator on the orders details page.

Permission Groups
~~~~~~~~~~~~~~~~~

Permission groups can be used to restrict access to different sections
of the Shuup admin for staff-level users.

Creating a Permission Group
---------------------------

1. Navigate to the Permission Groups admin page by clicking `Permission
   Groups` under the `Contacts` category from the Shuup Admin menu.

   .. image:: customers-and-users/permission-groups-menu.png

2. Click the `New group` button on the Permission Group admin toolbar.

   .. image:: customers-and-users/new-group-button.png

3. Enter a name for the group, select any modules (or admin sections)
   the group should have access to, and select any users that should be
   members of this group.

   .. image:: customers-and-users/permission-groups-form.png

   .. note::

      Permissions are managed on a module-level basis. For example, if
      a user has access to the Orders module, they will have access to
      create orders, shipments, payments, refunds.

      Additionally, if two admin modules require the same permission
      rights, adding one module will automatically add the second once
      the group settings have been saved.

4. Click `Save` to save the permission group settings.

Kontaktit
~~~~~~~~~

Shuup Kontaktit varastoivat kontaktitiedot, kuten osoitetiedot,
sähköpostiosoitteet sekä puhelinnumerot, ja kontakti voi olla
(tai olla olematta) liitetty käyttäjätiliin.

Kontakti voi olla tyypiltään toinen seuraavista:

Henkilökontakti
    Henkilöön liittyvä kontakti.
Yrityskontakti
    Yritykseen liittyvä kontakti.


Yksi tai useampi henkilökontakti voi olla yrityskontaktin **jäsen**.

Kuitenkin, jos käyttäjällä on käyttäjätiliinsä liitetty kontakti,
sen on aina oltava **henkilökontakti**, joka voi edelleen olla
yhden tai useamman **yrityskontaktin** jäsen.
	
Jos käyttäjään liitetty **henkilökontakti** on **yrityskontaktin**
**jäsen**, tilausta tehdessä käytetään yrityksen yhteystietoja.


Kontaktin luominen
^^^^^^^^^^^^^^^^^^

1. Siirry Kontaktit-ylläpitosivulle valitsemalla `Kontaktit`
   `Kontaktit`-kategoriasta Shuup hallintapaneelin valikosta.

   .. image:: customers-and-users/contacts-menu.png

2. Valitse `Uusi kontakti` Kontaktit-ylläpitosivun työkalupalkista.

   .. image:: customers-and-users/new-contact-button.png

3. Syötä kontaktin perustiedot ja varmista, että vaaditut kentät on
   täytetty.

   .. image:: customers-and-users/contact-basic-details.png

   .. note::

      Jos olet lisäämässä `Henkilökontaktia`, `Nimi`-kenttä on
      vaadittu, mutta ei käytössä. Sinun kannattaakin syöttää
      tilapäinen arvo `Nimi`-kenttään ja (vaihtoehtoisesti) syöttää
      kontaktin etu- ja sukunimi niille tarkoitettuihin kenttiin.

      Jos olet lisäämässä `Yrityskontaktia`, `Nimi`-kenttä on
      vaadittu ja siihen syötettyä nimeä käytetään yrityksen
      nimenä. Tässä tapauksessa etu- ja sukunimikenttiin
      syötettyjä tietoja ei käytetä.

4. Valitse `Osoitteet`-välilehti sivun vasemman laidan valikosta
   syöttääksesi kontaktille laskutus- ja toimitusosoitteet.

   .. image:: customers-and-users/contact-addresses.png

5. Valitse `Tallenna` luodaksesi kontaktin.

Kontaktin muokkaaminen
^^^^^^^^^^^^^^^^^^^^^^

1. Siirry Kontaktit-ylläpitosivulle valitsemalla `Kontaktit`
   `Kontaktit`-kategoriasta Shuup hallintapaneelin valikosta.

   .. image:: customers-and-users/contacts-menu.png

2. Valitse kontakti, jota haluat muokata.

   .. image:: customers-and-users/select-contact.png

3. Valitse `Muokkaa` Kontaktit-ylläpitosivun työkalupalkista.

   .. image:: customers-and-users/edit-contact.png

4. Muokkaa kontaktin tietoja haluamallasi tavalla ja lopuksi
   valitse `Tallenna` tallentaaksesi muutokset.

   Lisätietoja kohdassa `Kontaktin luominen`_.

Yrityksen jäsenyyden muokkaaminen
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

1. Siirry Kontaktit-ylläpitosivulle valitsemalla `Kontaktit`
   `Kontaktit`-kategoriasta Shuup hallintapaneelin valikosta.

   .. image:: customers-and-users/contacts-menu.png

2. Valitse yritys, jonka jäsenyyksiä haluat muokata.

   .. image:: customers-and-users/select-company.png

3. Valitse `Muokkaa` Kontaktit-ylläpitosivun työkalupalkista.

   .. image:: customers-and-users/edit-contact.png

4. Syötä `Jäsenet`-kenttään sen henkilökontaktin nimi, jonka haluat
   liittää yritykseen. Kun haluttu nimi tulee näkyviin
   pudotusvalikossa, klikkaa nimeä lisätäksesi sen kenttään.

   .. image:: customers-and-users/company-membership.png

5. Valitse `Tallenna` päivittääksesi valinnat yrityksen jäsenyyksiin.

Kontaktin luominen käyttäjätilin avulla
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

1. Siirry Käyttäjät-ylläpitosivulle valitsemalla `Käyttäjät`
   Kontaktit-kategoriasta Shuup hallintapaneelin valikosta.

   .. image:: customers-and-users/users-menu.png

2. Valitse käyttäjä, jolle haluat lisätä kontaktitiedot.

   .. image:: customers-and-users/select-user.png

3. Valitse Käyttäjät-ylläpitosivun työkalupalkin `Toiminnot`
   -pudotusvalikosta `Luo kontakti`.

   .. image:: customers-and-users/new-contact-from-user.png

4. Syötä kenttiin käyttäjän kontaktitiedot varmistaen, että
   pakolliset kentät on täytetty, ja lopuksi valitse `Tallenna`
   luodaksesi kontaktitiedot käyttäjälle.

   .. image:: customers-and-users/contact-basic-details.png

   Lisätietoja kohdassa `Kontaktin luominen`_.

5. Kontakti on nyt luotu ja sinut ohjataan uuden kontaktin
   ylläpitosivulle.

   Klikkaa käyttäjän käyttäjänimeä päästäksesi takaisin käyttäjän
   ylläpitosivulle.
   
Kontaktin deaktivointi
^^^^^^^^^^^^^^^^^^^^^^

Kun kontakti deaktivoidaan, kontakti jää järjestelmääsi, mutta hän
ei enää pysty kirjautumaan tiliinsä, eikä kontaktia näytetä
oletuksena avatessasi Kontaktit-ylläpitosivun.

.. note::
   Jos kontakti on liitetty käyttäjään, käyttäjän kontaktitietojen
   deaktivointi ei deaktivoi liitettyä käyttäjätiliä, mutta estää
   sisäänkirjautumisen, joka käytännössä tarkoittaa samaa asiaa.

   Lisätietoja kohdassa `Käyttäjän deaktivointi`_.

Deaktivoidaksesi kontaktin:

1. Siirry Kontaktit-ylläpitosivulle valitsemalla `Kontaktit`
   `Kontaktit-kategoriasta` Shuup hallintapaneelin valikosta.

   .. image:: customers-and-users/contacts-menu.png

2. Valitse kontakti, jonka haluat deaktivoida.

   .. image:: customers-and-users/select-contact.png

3. Valitse `Deaktivoi kontakti` Kontaktit-ylläpitosivun
   työkalupalkista.

   .. image:: customers-and-users/deactivate-contact-button.png

4. Kontakti on nyt deaktivoitu ja `Deaktivoi kontakti` –painike
   korvataan `Aktivoi kontakti` –painikkeella.

.. note::
   Seuraa samoja ohjeita aktivoidaksesi deaktivoidun kontaktin.

Kontaktiryhmät
~~~~~~~~~~~~~~

Shuupissa kontaktit voidaan sijoittaa eri kontaktiryhmiin. Näille
ryhmille voidaan kohdistaa kampanjoita, alennushinnoittelua tai
mukautettuja käyttäytymiskomponentteja.

.. Add information about default groups

Kontaktiryhmän luominen
^^^^^^^^^^^^^^^^^^^^^^^^

1. Siirry Kontaktiryhmät-ylläpitosivulle valitsemalla
   `Kontaktiryhmät` `Kontaktit`-kategoriasta Shuup
   hallintapaneelin valikosta.

   .. image:: customers-and-users/contacts-menu.png

2. Valitse `Luo uusi` Kontaktiryhmät-ylläpitosivun työkalupalkista.

   .. image:: customers-and-users/new-contact-group-button.png

3. Valitse `nimi` ja `hintojen näyttötapa` uudelle kontaktiryhmälle.

   .. image:: customers-and-users/contact-group-information.png

4. Valitse `Tallenna` tallentaaksesi uuden kontaktiryhmän.

   Kun kontaktiryhmä on tallennettu, kontaktiryhmän ylläpitosivulle
   ilmestyy automaattisesti kaksi uutta välilehteä;
   `Jäsenet-välilehti` ja yksi tai useampia `Myyntirajat`-välilehteä.

Ryhmien jäsenyyksien muokkaaminen
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

Näytä kontaktiryhmän jäsenyys
*****************************

Kontaktin lisääminen
********************

1. Siirry Kontaktiryhmät-ylläpitosivulle valitsemalla `Kontaktiryhmät`
   `Kontaktit`-kategoriasta Shuup hallintapaneelin valikosta.

   .. image:: customers-and-users/contact-groups-menu.png

2. Valitse kontaktiryhmä, jonka jäsenyyksiä haluat muokata.

   .. image:: customers-and-users/select-contact-group.png

3. Valitse `Lisää jäseniä`-välilehteä sivun vasemman laidan valikosta.

   .. image:: customers-and-users/add-members-tab.png

4. Klikkaa tyhjällä rivillä olevaa `Valitse`-painiketta avataksesi
   kontaktin valintaikkunan.

   .. image:: customers-and-users/add-members-select-button.png

5. Valitse kontakti, jonka haluat lisätä kontaktiryhmään.

   .. image:: customers-and-users/select-member.png

6. Jos näkymässä ei ole tyhjiä kontaktirivejä, valitse `Lisää uusia`
   lisätäksesi tyhjiä kontaktirivejä.

   .. image:: customers-and-users/add-more-button.png

7. Toista tarvittaessa lisätäksesi lisää kontakteja ja valitse lopuksi
   `Tallenna` tallentaaksesi kontaktiryhmän.

Kontaktin poistaminen
*********************

.. note::
   Kontakteja voidaan poistaa kontaktiryhmistä ainoastaan poistettavan
   kontaktin omalta ylläpitosivulta.

1. Siirry Kontaktit-ylläpitosivulle valitsemalla `Kontaktit`
   `Kontaktit`-kategoriasta Shuup hallintapaneelin valikosta.

   .. image:: customers-and-users/contacts-menu.png

2. Valitse kontakti, jonka haluat poistaa kontaktiryhmästä.

   .. image:: customers-and-users/select-contact.png

3. Valitse `Muokkaa` kontaktin ylläpitosivun työkalupalkista.

   .. image:: customers-and-users/edit-contact-group-from-contact.png

4. Etsi kontaktiryhmä, jonka jäsenyyttä haluat muokata
   `Kontaktiryhmät`-listasta, poista rasti ryhmän nimen vierellä
   olevasta ruudusta ja valitse `Tallenna` päivittääksesi
   kontaktilistan jäsenyydet.

Myyntirajojen luominen
^^^^^^^^^^^^^^^^^^^^^^

Kontaktiryhmien `Myyntirajoja` voidaan käyttää asiakaskontaktien
automaattiseen lisäämiseen haluttuihin kontaktiryhmiin heidän
tekemien ostosten kokonaisarvon perusteella.

Tämä voi olla hyödyllistä, jos haluat kohdistaa erityisiä
kampanjoita ja tarjota alennuksia tai etuja myyntitason mukaan.

1. Siirry Kontaktiryhmät-ylläpitosivulle valitsemalla
   `Kontaktiryhmät` `Kontaktit`-kategoriasta Shuup
   hallintapaneelin valikosta.

   .. image:: customers-and-users/contact-groups-menu.png

2. Valitse kontaktiryhmä, jolle haluat lisätä myyntirajoja.

   .. image:: customers-and-users/select-contact-group.png

3. Valitse `(Kaupan nimi) – Myyntirajat` –välilehti sivun vasemman
   laidan valikosta, missä `(Kaupan nimi)` on sen kaupan nimi,
   joka liitetään uusiin myyntirajoihin.

   .. image:: customers-and-users/sales-ranges-tab.png

4. Syötä alin ja ylin arvo kontaktiryhmän myyntirajoille.

   .. image:: customers-and-users/sales-ranges-values.png

   .. note::

      Jätä `Ylin arvo` –kenttä tyhjäksi jos et halua asettaa
      ryhmälle myynnin ylärajaa.
      
      Jätä `Alin arvo` –kenttä tyhjäksi jos et halua asettaa
      ryhmälle myynnin alarajaa.
      
5. Valitse `Tallenna` tallentaaksesi ryhmän myyntirajat.
   Kontaktiryhmän jäsenyys päivittyy automaattisesti perustuen
   asiakkaiden kokonaismyyntiin.


.. tip::
   Koita kontaktiryhmän luomista asiakkaille myyntirajoihin
   perustuen ja tarjoa heille erityisiä alennuksia ja etuja.
